<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>入站代理 | Project X</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Xray 官方文档">
    
    <link rel="preload" href="/Xray-docs-next/assets/css/0.styles.a477457d.css" as="style"><link rel="preload" href="/Xray-docs-next/assets/js/app.2007217c.js" as="script"><link rel="preload" href="/Xray-docs-next/assets/js/2.2c611514.js" as="script"><link rel="preload" href="/Xray-docs-next/assets/js/18.f6e482c9.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/js/10.ecc3d6a7.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/11.e6b627f7.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/12.8a69fe1b.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/13.46105034.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/14.029b637a.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/15.e5e2b060.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/16.ff8fb943.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/17.23841ed2.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/19.9e92e7b1.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/20.b8cd7915.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/21.f54a613e.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/22.97ffa455.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/23.0ae302b1.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/24.a35b718c.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/25.e9cc11c8.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/26.6a985906.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/27.a05d02f9.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/28.31373f47.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/29.7295fad6.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/3.3b699c9b.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/30.b9b32243.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/31.16a02e2e.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/32.ff7dff3e.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/33.f53f7403.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/34.cd356cab.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/35.40d34c48.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/36.ab4ebec3.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/37.60ed5635.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/38.067244b7.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/39.79f88beb.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/4.12605cf2.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/40.891e965c.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/41.311d0751.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/42.932c4d31.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/43.66dde739.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/44.5ce13b3b.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/45.7875eeee.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/46.37b6fec8.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/47.5db6060e.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/48.6d03d094.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/49.0bcabc27.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/5.7f355a6c.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/50.2d52d887.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/51.232e51b9.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/52.6012eaa8.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/53.1d5a28e9.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/54.de3be808.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/55.d5e34286.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/56.02abf6d6.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/57.9ec4a7cd.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/58.73cad123.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/6.e5de8f36.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/7.33ce2404.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/8.e55ddbe3.js"><link rel="prefetch" href="/Xray-docs-next/assets/js/9.cfb5d221.js">
    <link rel="stylesheet" href="/Xray-docs-next/assets/css/0.styles.a477457d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Xray-docs-next/" class="home-link router-link-active"><!----> <span class="site-name">Project X</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Xray-docs-next/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/Xray-docs-next/about/news.html" class="nav-link">
  大史记
</a></div><div class="nav-item"><a href="/Xray-docs-next/config/" class="nav-link router-link-active">
  配置指南
</a></div><div class="nav-item"><a href="/Xray-docs-next/development/" class="nav-link">
  开发指南
</a></div><div class="nav-item"><a href="/Xray-docs-next/usage/" class="nav-link">
  使用指南
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">多语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">多语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Xray-docs-next/" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/Xray-docs-next/en.html" class="nav-link">
  English
</a></li></ul></div></div> <a href="https://github.com/xtls/xray-core" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Xray-docs-next/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/Xray-docs-next/about/news.html" class="nav-link">
  大史记
</a></div><div class="nav-item"><a href="/Xray-docs-next/config/" class="nav-link router-link-active">
  配置指南
</a></div><div class="nav-item"><a href="/Xray-docs-next/development/" class="nav-link">
  开发指南
</a></div><div class="nav-item"><a href="/Xray-docs-next/usage/" class="nav-link">
  使用指南
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">多语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">多语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Xray-docs-next/" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/Xray-docs-next/en.html" class="nav-link">
  English
</a></li></ul></div></div> <a href="https://github.com/xtls/xray-core" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>特性详解</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Xray-docs-next/config/features/vless.html" class="sidebar-link">VLESS 协议详解</a></li><li><a href="/Xray-docs-next/config/features/xtls.html" class="sidebar-link">XTLS 深度剖析</a></li><li><a href="/Xray-docs-next/config/features/fallback.html" class="sidebar-link">Fallback 回落</a></li><li><a href="/Xray-docs-next/config/features/env.html" class="sidebar-link">环境变量</a></li><li><a href="/Xray-docs-next/config/features/multiple.html" class="sidebar-link">多文件配置</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/Xray-docs-next/config/inbounds/" class="sidebar-heading clickable"><span>入站代理</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/Xray-docs-next/config/inbounds/dokodemo.html" class="sidebar-link">Dokodemo-Door</a></li><li><a href="/Xray-docs-next/config/inbounds/http.html" class="sidebar-link">HTTP</a></li><li><a href="/Xray-docs-next/config/inbounds/shadowsocks.html" class="sidebar-link">Shadowsocks</a></li><li><a href="/Xray-docs-next/config/inbounds/socks.html" class="sidebar-link">Socks</a></li><li><a href="/Xray-docs-next/config/inbounds/trojan.html" class="sidebar-link">Trojan</a></li><li><a href="/Xray-docs-next/config/inbounds/vless.html" class="sidebar-link">VLESS</a></li><li><a href="/Xray-docs-next/config/inbounds/vmess.html" class="sidebar-link">VMess</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/Xray-docs-next/config/outbounds/" class="sidebar-heading clickable"><span>出站代理</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/Xray-docs-next/config/outbounds/blackhole.html" class="sidebar-link">Blackhole</a></li><li><a href="/Xray-docs-next/config/outbounds/dns.html" class="sidebar-link">DNS</a></li><li><a href="/Xray-docs-next/config/outbounds/freedom.html" class="sidebar-link">Freedom</a></li><li><a href="/Xray-docs-next/config/outbounds/http.html" class="sidebar-link">HTTP</a></li><li><a href="/Xray-docs-next/config/outbounds/shadowsocks.html" class="sidebar-link">Shadowsocks</a></li><li><a href="/Xray-docs-next/config/outbounds/socks.html" class="sidebar-link">Socks</a></li><li><a href="/Xray-docs-next/config/outbounds/trojan.html" class="sidebar-link">Trojan</a></li><li><a href="/Xray-docs-next/config/outbounds/vless.html" class="sidebar-link">VLESS</a></li><li><a href="/Xray-docs-next/config/outbounds/vmess.html" class="sidebar-link">VMess</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/Xray-docs-next/config/transports/" class="sidebar-heading clickable"><span>底层传输</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/Xray-docs-next/config/transports/grpc.html" class="sidebar-link">gRPC</a></li><li><a href="/Xray-docs-next/config/transports/h2.html" class="sidebar-link">HTTP/2</a></li><li><a href="/Xray-docs-next/config/transports/mkcp.html" class="sidebar-link">mKCP</a></li><li><a href="/Xray-docs-next/config/transports/quic.html" class="sidebar-link">QUIC</a></li><li><a href="/Xray-docs-next/config/transports/tcp.html" class="sidebar-link">TCP</a></li><li><a href="/Xray-docs-next/config/transports/websocket.html" class="sidebar-link">WebSocket</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="入站代理"><a href="#入站代理" class="header-anchor">#</a> 入站代理</h1> <p>入站连接用于接收发来的数据，可用的协议请见<a href="/Xray-docs-next/config/inbounds/">inbound 可用协议列表</a>。</p> <h2 id="inboundobject"><a href="#inboundobject" class="header-anchor">#</a> InboundObject</h2> <p><code>InboundObject</code> 对应配置文件中 <code>inbounds</code> 项的一个子元素。</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;inbounds&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;listen&quot;</span><span class="token operator">:</span> <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;port&quot;</span><span class="token operator">:</span> <span class="token number">1080</span><span class="token punctuation">,</span>
      <span class="token property">&quot;protocol&quot;</span><span class="token operator">:</span> <span class="token string">&quot;协议名称&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;settings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;streamSettings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;tag&quot;</span><span class="token operator">:</span> <span class="token string">&quot;标识&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;sniffing&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;enabled&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">&quot;destOverride&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;http&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;tls&quot;</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;allocate&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;strategy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;always&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;refresh&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token property">&quot;concurrency&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><code>listen</code>: address</p></blockquote> <p>监听地址，IP 地址或 Unix domain socket，默认值为 <code>&quot;0.0.0.0&quot;</code>，表示接收所有网卡上的连接.</p> <p>可以指定一个系统可用的 IP 地址。</p> <p>支持填写 Unix domain socket，格式为绝对路径，形如 <code>&quot;/dev/shm/domain.socket&quot;</code>，可在开头加 <code>@</code> 代表 <a href="https://www.man7.org/linux/man-pages/man7/unix.7.html" target="_blank" rel="noopener noreferrer">abstract<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，<code>@@</code> 则代表带 padding 的 abstract。</p> <p>填写 Unix domain socket 时，<code>port</code> 和 <code>allocate</code> 将被忽略，协议目前可选 VLESS、VMess、Trojan，传输方式可选 TCP、WebSocket、HTTP/2。</p> <blockquote><p><code>port</code>: number | &quot;env:variable&quot; | string</p></blockquote> <p>端口。接受的格式如下:</p> <ul><li>整型数值：实际的端口号。</li> <li>环境变量：以 <code>&quot;env:&quot;</code> 开头，后面是一个环境变量的名称，如 <code>&quot;env:PORT&quot;</code>。Xray 会以字符串形式解析这个环境变量。</li> <li>字符串：可以是一个数值类型的字符串，如 <code>&quot;1234&quot;</code>；或者一个数值范围，如 <code>&quot;5-10&quot;</code> 表示端口 5 到端口 10，这 6 个端口。</li></ul> <p>当只有一个端口时，Xray 会在此端口监听入站连接。当指定了一个端口范围时，取决于 <code>allocate</code> 设置。</p> <blockquote><p><code>protocol</code>: string</p></blockquote> <p>连接协议名称，可选的协议类型见 <a href="/Xray-docs-next/config/inbounds/">inbound 可用协议列表</a>。</p> <blockquote><p><code>settings</code>: InboundConfigurationObject</p></blockquote> <p>具体的配置内容，视协议不同而不同。详见每个协议中的 <code>InboundConfigurationObject</code>。</p> <blockquote><p><code>streamSettings</code>: <a href="/Xray-docs-next/config/transport.html#streamsettingsobject">StreamSettingsObject</a></p></blockquote> <p>底层传输方式（transport）是当前 Xray 节点和其它节点对接的方式</p> <blockquote><p><code>tag</code>: string
此入站连接的标识，用于在其它的配置中定位此连接。</p></blockquote> <div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>当其不为空时，其值必须在所有 <code>tag</code> 中<strong>唯一</strong>。</p></div> <blockquote><p><code>sniffing</code>: <a href="#sniffingobject">SniffingObject</a></p></blockquote> <p>流量探测主要作用于在透明代理等用途.
比如一个典型流程如下:</p> <ol><li>如有一个设备上网,去访问abc.com,首先设备通过DNS查询得到abc.com的IP是1.2.3.4,然后设备会向1.2.3.4去发起连接.</li> <li>如果不设置嗅探,Xray收到的连接请求是1.2.3.4,并不能用于域名规则的路由分流.</li> <li>当设置了sniffing中的enable为true,Xray处理此连接的流量时,会从流量的数据中,嗅探出域名,即abc.com</li> <li>Xray会把1.2.3.4重置为abc.com.路由就可以根据域名去进行路由的域名规则的分流</li></ol> <p>因为变成了一个向abc.com请求的连接, 就可以做更多的事情, 除了路由域名规则分流, 还能重新做DNS解析等其他工作.</p> <p>当设置了sniffing中的enable为true, 还能嗅探出bittorrent类型的流量, 然后可以在路由中配置&quot;protocol&quot;项来设置规则处理BT流量, 比如服务端用来拦截BT流量, 或客户端固定转发BT流量到某个VPS去等.</p> <blockquote><p><code>allocate</code>: <a href="#allocateobject">AllocateObject</a></p></blockquote> <p>当设置了多个port时, 端口分配的具体设置</p> <h3 id="sniffingobject"><a href="#sniffingobject" class="header-anchor">#</a> SniffingObject</h3> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;enabled&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;destOverride&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;http&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;tls&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;fakedns&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;metadataOnly&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><code>enabled</code>: true | false</p></blockquote> <p>是否开启流量探测。</p> <blockquote><p><code>destOverride</code>: [&quot;http&quot; | &quot;tls&quot; | &quot;fakedns&quot; ]</p></blockquote> <p>当流量为指定类型时，按其中包括的目标地址重置当前连接的目标。</p> <blockquote><p><code>metadataOnly</code>: true | false</p></blockquote> <p>当启用时，将仅使用连接的元数据嗅探目标地址。此时，<code>http</code> 与 <code>tls</code> 将不能使用。</p> <h3 id="allocateobject"><a href="#allocateobject" class="header-anchor">#</a> AllocateObject</h3> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;strategy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;always&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;refresh&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token property">&quot;concurrency&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><code>strategy</code>: &quot;always&quot; | &quot;random&quot;</p></blockquote> <p>端口分配策略。</p> <ul><li><code>&quot;always&quot;</code> 表示总是分配所有已指定的端口，<code>port</code> 中指定了多少个端口，Xray 就会监听这些端口。</li> <li><code>&quot;random&quot;</code> 表示随机开放端口，每隔 <code>refresh</code> 分钟在 <code>port</code> 范围中随机选取 <code>concurrency</code> 个端口来监听。</li></ul> <blockquote><p><code>refresh</code>: number</p></blockquote> <p>随机端口刷新间隔，单位为分钟。最小值为 <code>2</code>，建议值为 <code>5</code>。这个属性仅当 <code>strategy</code> 设置为 <code>&quot;random&quot;</code> 时有效。</p> <blockquote><p><code>concurrency</code>: number</p></blockquote> <p>随机端口数量。最小值为 <code>1</code>，最大值为 <code>port</code> 范围的三分之一。建议值为 <code>3</code>。</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/xtls/Xray-docs-next/edit/main/docs/config/inbound.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/Xray-docs-next/assets/js/app.2007217c.js" defer></script><script src="/Xray-docs-next/assets/js/2.2c611514.js" defer></script><script src="/Xray-docs-next/assets/js/18.f6e482c9.js" defer></script>
  </body>
</html>
