"use strict";(self.webpackChunkXray_docs_next=self.webpackChunkXray_docs_next||[]).push([[196],{67014:(e,l,a)=>{a.r(l),a.d(l,{data:()=>r});const r={key:"v-2f29e106",path:"/document/level-1/work.html",title:"Xray 的工作模式",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"单服务器模式",slug:"单服务器模式",children:[]},{level:2,title:"桥接模式",slug:"桥接模式",children:[]},{level:2,title:"工作原理",slug:"工作原理",children:[]}],filePathRelative:"document/level-1/work.md",git:{updatedTime:1616738467e3,contributors:[{name:"JimhHan",email:"50871214+JimhHan@users.noreply.github.com",commits:2}]}}},85360:(e,l,a)=>{a.r(l),a.d(l,{default:()=>s});var r=a(66252);const n=(0,r._)("h1",{id:"xray-的工作模式",tabindex:"-1"},[(0,r._)("a",{class:"header-anchor",href:"#xray-的工作模式","aria-hidden":"true"},"#"),(0,r.Uk)(" Xray 的工作模式")],-1),i=(0,r._)("h2",{id:"单服务器模式",tabindex:"-1"},[(0,r._)("a",{class:"header-anchor",href:"#单服务器模式","aria-hidden":"true"},"#"),(0,r.Uk)(" 单服务器模式")],-1),u=(0,r._)("p",null,"与其它的网络代理工具一样，你需要一台配置了 Xray 的服务器，然后在自己的设备上安装并配置 Xray 客户端，然后即可流畅地访问互联网。",-1),t=(0,r._)("p",null,"一个 Xray 服务器可同时支持多台设备使用不同的代理协议访问。同时，经过合理的配置，Xray 可以识别并区分需要代理以及不需要代理的流量，直连的流量不需要绕路。",-1),d=(0,r._)("h2",{id:"桥接模式",tabindex:"-1"},[(0,r._)("a",{class:"header-anchor",href:"#桥接模式","aria-hidden":"true"},"#"),(0,r.Uk)(" 桥接模式")],-1),h=(0,r._)("p",null,"如果你不想在每一台设备上都配置路由，你也可以设置一台中转服务器，用于接收客户端发来的所有流量，然后在服务器中进行转发判断。",-1),o=(0,r._)("h2",{id:"工作原理",tabindex:"-1"},[(0,r._)("a",{class:"header-anchor",href:"#工作原理","aria-hidden":"true"},"#"),(0,r.Uk)(" 工作原理")],-1),_=(0,r._)("p",null,"在配置 Xray 之前，不妨先来看一下 Xray 的工作原理，以下是单个 Xray 进程的内部结构示意图。多个 Xray 之间相互独立，互不影响。",-1),c=(0,r._)("ul",null,[(0,r._)("li",null,[(0,r.Uk)("需要配置至少一个入站连接（Inbound）和一个出站连接（Outbound）才可以正常工作。 "),(0,r._)("ul",null,[(0,r._)("li",null,[(0,r.Uk)("入站连接负责与客户端（如浏览器）通信： "),(0,r._)("ul",null,[(0,r._)("li",null,"入站连接通常可以配置用户认证，如 ID 和密码等；"),(0,r._)("li",null,"入站连接收到数据之后，会交给分发器（Dispatcher）进行分发；")])]),(0,r._)("li",null,"出站连接负责将数据发给服务器，如另一台主机上的 Xray。")])]),(0,r._)("li",null,[(0,r.Uk)("当有多个出站连接时，可以配置路由（Routing）来指定某一类流量由某一个出站连接发出。 "),(0,r._)("ul",null,[(0,r._)("li",null,"路由会在必要时查询 DNS 以获取更多信息来进行判断。")])])],-1),s={render:function(e,l){const a=(0,r.up)("Mermaid");return(0,r.wg)(),(0,r.iD)(r.HY,null,[n,i,u,(0,r.Wm)(a,{identifier:"mermaid_1a962853",graph:"graph LR;A(PC) -.- B(防火墙);B -.-> C(墙外网站);A --\x3e D(Xray/VPS);D --\x3e C;A --\x3e E(墙内网站);"}),t,d,h,(0,r.Wm)(a,{identifier:"mermaid_382ee14e",graph:"graph LR;A(PC) -.-> B(防火墙);B -.-> C(墙外网站);A --\x3e D(墙内 VPS);D --\x3e E(墙外 VPS);E --\x3e C;D --\x3e F(墙内网站);"}),o,_,(0,r.Wm)(a,{identifier:"mermaid_382ee16a",graph:"graph LR;A1(inbound) --\x3e D(Dispatcher / Router / DNS);A2(inbound) --\x3e D;A3(inbound) --\x3e D;A4(inbound) --\x3e D;D --\x3e B1(outbound);D --\x3e B2(outbound);D --\x3e B3(outbound);D --\x3e B4(outbound);"}),c],64)}}}}]);