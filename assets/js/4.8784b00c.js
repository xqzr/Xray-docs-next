(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{403:function(t,s,a){t.exports=a.p+"assets/img/ch07-img01-xray-install.d0df3d78.gif"},404:function(t,s,a){t.exports=a.p+"assets/img/ch07-img02-xray-cert-install.3ffc2974.png"},405:function(t,s,a){t.exports=a.p+"assets/img/ch07-img03-crontab-cert-renew.de056eaf.gif"},406:function(t,s,a){t.exports=a.p+"assets/img/ch07-img04-xray-log-and-config.27ea3db4.gif"},407:function(t,s,a){t.exports=a.p+"assets/img/ch07-img05-xray-start-and-status.c85f14b2.gif"},408:function(t,s,a){t.exports=a.p+"assets/img/ch07-img06-bbr-proper.eda967e9.gif"},409:function(t,s,a){t.exports=a.p+"assets/img/ch07-img07-http-to-https.df2ef6ce.gif"},410:function(t,s,a){t.exports=a.p+"assets/img/ch07-img08-http-to-https-check.872932d9.png"},494:function(t,s,a){"use strict";a.r(s);var e=a(20),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"ã€ç¬¬-7-ç« ã€‘xray-æœåŠ¡å™¨ç¯‡"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ã€ç¬¬-7-ç« ã€‘xray-æœåŠ¡å™¨ç¯‡"}},[t._v("#")]),t._v(" ã€ç¬¬ 7 ç« ã€‘Xray æœåŠ¡å™¨ç¯‡")]),t._v(" "),e("h2",{attrs:{id:"_7-1-åšè§‚è€Œçº¦å–-åšç§¯è€Œè–„å‘"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-åšè§‚è€Œçº¦å–-åšç§¯è€Œè–„å‘"}},[t._v("#")]),t._v(" 7.1 åšè§‚è€Œçº¦å–ï¼Œåšç§¯è€Œè–„å‘")]),t._v(" "),e("p",[t._v("æœ¬æ–‡æ’°å†™è¿‡ç¨‹ä¸­ï¼Œå¤§ä½¬å¼€ç©ç¬‘çš„åæ§½åˆ°ï¼šä½ è¿™æ•™ç¨‹ï¼Œå±…ç„¶è¿è½½äº† 6 ç« éƒ½è¿˜æ²¡åˆ° Xrayï¼Œä¸çŸ¥é“çš„è¿˜ä»¥ä¸ºä½ æ˜¯â€œæ‰‹æŠŠæ‰‹æ•™ä½ å»ºç½‘ç«™â€æ•™ç¨‹å‘¢ã€‚ï¼ˆæˆ‘ç«Ÿæ— æ³•åé©³.jpg!ï¼‰")]),t._v(" "),e("p",[t._v("å…¶å®è¿™æ ·çš„ç»“æ„æ˜¯æˆ‘å¤šç•ªæ€è€ƒä¹‹åçš„å†³å®šï¼Œæ¯•ç«Ÿåªæœ‰æ‰“å¥½åŸºç¡€ï¼Œæ‰èƒ½åœ¨åé¢äº‹åŠåŠŸå€å¿«é€Ÿåè¶…ã€‚æˆ‘åœ¨ç¾¤é‡Œçœ‹åˆ°è®¸å¤šæ–°äººè¿"),e("code",[t._v("nano")]),t._v("éƒ½æ— æ³•æ­£ç¡®ä½¿ç”¨ï¼Œä¹Ÿä¸ä¼šç”¨"),e("code",[t._v("WinSCP")]),t._v("ï¼Œè¿œç¨‹æ‰‹å†™ç¼–è¾‘å‡ºæ¥çš„"),e("code",[t._v("config.json")]),t._v("è‡ªç„¶é”™è¯¯ç™¾å‡ºï¼Œè¿æŸ¥é”™ä¹Ÿå˜å¾—ä¸¾æ­¥ç»´è‰°ã€‚")]),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),e("p",[t._v("ç»è¿‡äº†å‰ 6 ç« çš„å‡†å¤‡ï¼Œå„ä½å·²ç»è·Ÿæˆ‘ä¸€èµ·ç¿»è¶Šäº† Linux åŸºæœ¬æ“ä½œã€VPS è¿œç¨‹ç®¡ç†ã€ç½‘é¡µæ­å»ºã€åŸŸåç®¡ç†ã€è¯ä¹¦ç”³è¯·ç­‰ç­‰å‡ åº§å¤§å±±ã€‚æ˜¯ä¸æ˜¯å›å¤´çœ‹çœ‹ï¼Œè§‰å¾—å…¶å®éå¸¸ç®€å•å‘¢ï¼Ÿç°åœ¨æˆ‘ä»¬æœ‰äº†å¦‚æ­¤æ‰å®çš„å‡†å¤‡ï¼Œæ¥ä¸‹æ¥å®‰è£…å’Œé…ç½® Xray\næ—¶ä¼šæœ‰ä¸€ç§ã€æ°´åˆ°æ¸ æˆã€‘çš„è½»å¿«æ„Ÿè§‰ã€‚")])]),t._v(" "),e("p",[t._v("åé¢è¦åšçš„äº‹æƒ…éå¸¸ç®€å•ï¼š")]),t._v(" "),e("ol",[e("li",[t._v("å®‰è£…")]),t._v(" "),e("li",[t._v("é…ç½®ï¼ˆå¦‚å®‰è£… TLS è¯ä¹¦ã€"),e("code",[t._v("config.json")]),t._v("ï¼‰")]),t._v(" "),e("li",[t._v("è¿è¡Œ")]),t._v(" "),e("li",[t._v("ä¼˜åŒ–ï¼ˆå¦‚æ›´æ–°å†…æ ¸ã€å¼€å¯"),e("code",[t._v("bbr")]),t._v("ã€ç½‘ç«™"),e("code",[t._v("http")]),t._v("è®¿é—®è‡ªåŠ¨è·³è½¬"),e("code",[t._v("https")]),t._v("ç­‰ï¼‰")])]),t._v(" "),e("h2",{attrs:{id:"_7-2-å®‰è£…-xray"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-å®‰è£…-xray"}},[t._v("#")]),t._v(" 7.2 å®‰è£… Xray")]),t._v(" "),e("p",[t._v("é¦–å…ˆï¼ŒXray çš„å®˜æ–¹è½½ä½“ï¼Œå°±æ˜¯ "),e("a",{attrs:{href:"https://github.com/XTLS/Xray-core",target:"_blank",rel:"noopener noreferrer"}},[t._v("xray-core"),e("OutboundLink")],1),t._v(" å¼€æºé¡¹ç›®ï¼ˆåŸºäº "),e("code",[t._v("MPL 2.0")]),t._v("\nå¼€æºåè®®ï¼‰ç”Ÿæˆçš„äºŒè¿›åˆ¶ç¨‹åºã€‚ä½ æŠŠè¿™ä¸ªäºŒè¿›åˆ¶æ”¾åœ¨æœåŠ¡å™¨è¿è¡Œï¼Œå®ƒå°±æ˜¯æœåŠ¡å™¨ç«¯ï¼›ä½ æŠŠå®ƒä¸‹è½½åˆ°æœ¬åœ°ç”µè„‘è¿è¡Œï¼Œå®ƒå°±æ˜¯å®¢æˆ·ç«¯ã€‚ä¸»è¦åŒºåˆ«æ¥æºäºã€é…ç½®ã€‘ã€‚")]),t._v(" "),e("p",[t._v("å®‰è£…æ—¶ï¼Œç›´æ¥ä½¿ç”¨å®˜æ–¹å®‰è£…è„šæœ¬å°±å¾ˆç®€å•ç›´æ¥ã€‚å®ƒæä¾›äº†å¤šç§å®‰è£…é€‰é¡¹ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å»å®˜æ–¹çš„"),e("a",{attrs:{href:"https://github.com/XTLS/Xray-install",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®‰è£…è„šæœ¬ä»“åº“"),e("OutboundLink")],1),t._v("ä¸­çœ‹çœ‹è„šæœ¬çš„è¯´æ˜ï¼Œ"),e("strong",[t._v("æœ¬æ–‡ä½¿ç”¨çš„æ˜¯ã€é root\nç”¨æˆ·ã€‘å®‰è£…æ¨¡å¼")]),t._v("ã€‚")]),t._v(" "),e("p",[t._v("å†™æœ¬æ–‡æ—¶ï¼Œå®‰è£…è„šæœ¬åœ¨ä½¿ç”¨é root è´¦æˆ·æ—¶æœ‰ä¸€äº›å° bugï¼Œæ‰€ä»¥æˆ‘å†³å®šæ­£å¥½æŠŠè¿™å‡ æ­¥åˆ†å¼€æ“ä½œï¼Œå¯ä»¥é¡ºä¾¿è¯´æ˜ä¸€ä¸‹ Linux ä¸‹çš„åˆ é™¤å‘½ä»¤ã€‚")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("å°å°ç™½ç™½ Linux åŸºç¡€å‘½ä»¤ï¼š | ç¼–å· | å‘½ä»¤åç§° | å‘½ä»¤è¯´æ˜ | |:--ğŸ˜:--ğŸ˜:--ğŸ˜ | "),e("code",[t._v("cmd-14")]),t._v(" | "),e("code",[t._v("rm")]),t._v(" | åˆ é™¤å‘½ä»¤ |")])]),t._v(" "),e("li",[e("p",[t._v("å°†å®‰è£…è„šæœ¬ä¸‹è½½è‡³æœ¬åœ°ï¼š")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ wget https://github.com/XTLS/Xray-install/raw/main/install-release.sh\n")])])])]),t._v(" "),e("li",[e("p",[t._v("æ‰§è¡Œå®‰è£…å‘½ä»¤")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ sudo bash install-release.sh\n")])])])]),t._v(" "),e("li",[e("p",[t._v("ä½¿ç”¨å®Œæˆä¹‹åå¯ä»¥åˆ é™¤è¯¥è„šæœ¬")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ rm ~/install-release.sh\n")])])]),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),e("p",[t._v("ä½¿ç”¨ "),e("code",[t._v("rm")]),t._v(" å‘½ä»¤åˆ é™¤æ–‡ä»¶çš„æ—¶å€™ï¼Œé»˜è®¤å…¶å®å°±æ˜¯åˆ é™¤ç°åœ¨æ‰€åœ¨çš„æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ã€‚ä½†æ˜¯ï¼Œ"),e("strong",[t._v("æˆ‘ä¾ç„¶å†™äº†å®Œæ•´çš„è·¯å¾„")]),t._v("ï¼š "),e("code",[t._v("~/install-release.sh")]),t._v("ï¼Œè¿™æ˜¯æˆ‘ä½¿ç”¨ "),e("code",[t._v("rm")]),t._v("\næ—¶çš„ä¸€ä¸ªå®‰å…¨ä¹ æƒ¯ã€ä¹Ÿæ˜¯æˆ‘æŠŠå®‰è£…åˆ†æˆå‡ æ­¥ä¹‹åæƒ³å¼ºè°ƒä¸€ä¸‹çš„å†…å®¹ã€‚å¦‚æœä½ å¬è¿‡ä¸€äº›â€œç¨‹åºå‘˜ä»åˆ åº“åˆ°è·‘è·¯â€ä¹‹ç±»çš„æ®µå­ï¼Œå¤§æ¦‚å°±çŸ¥é“ä¸ºä»€ä¹ˆäº†ã€‚")])])]),t._v(" "),e("li",[e("p",[t._v("å®Œæ•´æµç¨‹æ¼”ç¤ºå¦‚ä¸‹ï¼š")]),t._v(" "),e("p",[e("img",{attrs:{src:a(403),alt:"XrayæœåŠ¡å™¨ç«¯å®‰è£…æµç¨‹æ¼”ç¤º"}})])])]),t._v(" "),e("h2",{attrs:{id:"_7-3-ç»™-xray-é…ç½®-tls-è¯ä¹¦"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-3-ç»™-xray-é…ç½®-tls-è¯ä¹¦"}},[t._v("#")]),t._v(" 7.3 ç»™ Xray é…ç½® TLS è¯ä¹¦")]),t._v(" "),e("p",[t._v("è™½ç„¶æˆ‘ä»¬å‰é¢å·²ç»ç”³è¯·å¥½äº† TLS\nè¯ä¹¦ï¼Œä½†æ˜¯æŒ‰ç…§ "),e("a",{attrs:{href:"https://github.com/acmesh-official/acme.sh/wiki/%E8%AF%B4%E6%98%8E#3-copy%E5%AE%89%E8%A3%85-%E8%AF%81%E4%B9%A6",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("acme.sh")]),t._v("çš„å®˜æ–¹è¯´æ˜"),e("OutboundLink")],1),t._v("ï¼Œç”³è¯·åçš„è¯ä¹¦ä¸å»ºè®®ç›´æ¥ä½¿ç”¨ã€‚æ­£ç¡®çš„æ–¹æ³•æ˜¯ä½¿ç”¨ "),e("code",[t._v("--install-cert")]),t._v("\nå‘½ä»¤å®‰è£…ç»™éœ€è¦çš„ç¨‹åºã€‚æˆ‘ä»¬ç°åœ¨å°±æ¥æŠŠè¯ä¹¦å®‰è£…ç»™ "),e("code",[t._v("xray-core")]),t._v(" ä½¿ç”¨ã€‚")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("ä¸ºäº†è§„é¿é root è´¦æˆ·çš„å„ç§æ½œåœ¨çš„æƒé™å›°æ‰°ï¼Œæˆ‘ä»¬åœ¨ vpsadmin è´¦æˆ·ä¸‹å»ºç«‹ä¸€ä¸ªè¯ä¹¦æ–‡ä»¶å¤¹")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ mkdir ~/xray_cert\n")])])])]),t._v(" "),e("li",[e("p",[t._v("ä½¿ç”¨"),e("code",[t._v("acme.sh")]),t._v("çš„"),e("code",[t._v("--install-cert")]),t._v("æ­£ç¡®å®‰è£…ï¼ˆæ‹·è´ï¼‰è¯ä¹¦æ–‡ä»¶")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ acme.sh --install-cert -d äºŒçº§åŸŸå.ä½ çš„åŸŸå.com --ecc \\\n            --fullchain-file ~/xray_cert/xray.crt \\\n            --key-file ~/xray_cert/xray.key\n")])])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("xray.key")]),t._v("æ–‡ä»¶é»˜è®¤å¯¹å…¶ä»–ç”¨æˆ·ä¸å¯è¯»ï¼Œæ‰€ä»¥éœ€è¦èµ‹äºˆå…¶å¯è¯»æ€§æƒé™")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ chmod +r ~/xray_cert/xray.key\n")])])])]),t._v(" "),e("li",[e("p",[t._v("è¿‡ç¨‹æ¯”è¾ƒç®€å•å°±ä¸æ”¾åŠ¨å›¾äº†ï¼š")]),t._v(" "),e("p",[e("img",{attrs:{src:a(404),alt:"XrayæœåŠ¡å™¨ç«¯å®‰è£…æµç¨‹æ¼”ç¤º"}})])]),t._v(" "),e("li",[e("p",[e("code",[t._v("acme.sh")]),t._v(" ä¼šæ¯ 60 å¤©æ£€æŸ¥ä¸€æ¬¡è¯ä¹¦å¹¶è‡ªåŠ¨æ›´æ–°ä¸´æœŸè¯ä¹¦ã€‚ä½†æ®æˆ‘æ‰€çŸ¥æ˜¯å®ƒå¹¶ä¸ä¼šè‡ªåŠ¨å°†æ–°è¯ä¹¦å®‰è£…ç»™ "),e("code",[t._v("xray-core")]),t._v("ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ–°å¢ä¸€ä¸ªç³»ç»Ÿçš„è‡ªåŠ¨å‘¨æœŸä»»åŠ¡æ¥å®Œæˆè¿™ä¸€æ­¥ã€‚")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("å°å°ç™½ç™½ Linux åŸºç¡€å‘½ä»¤ï¼š | ç¼–å· | å‘½ä»¤åç§° | å‘½ä»¤è¯´æ˜ | |:--ğŸ˜:--ğŸ˜:--ğŸ˜ | "),e("code",[t._v("cmd-15")]),t._v(" | "),e("code",[t._v("crontab -e")]),t._v(" | ç¼–è¾‘å½“å‰ç”¨æˆ·çš„å®šæ—¶ä»»åŠ¡ |")])]),t._v(" "),e("li",[e("p",[t._v("å»ºç«‹ä¸€ä¸ªè„šæœ¬æ–‡ä»¶ï¼ˆ"),e("code",[t._v("xray-cert-renew.sh")]),t._v("ï¼‰")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ nano ~/xray_cert/xray-cert-renew.sh\n")])])])]),t._v(" "),e("li",[e("p",[t._v("æŠŠä¸‹é¢çš„å†…å®¹å¤åˆ¶è¿›å»ï¼Œè®°å¾—æ›¿æ¢ä½ çš„çœŸå®åŸŸåï¼Œç„¶åä¿å­˜é€€å‡º")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('#!/bin/bash\n\n/home/vpsadmin/.acme.sh/acme.sh --install-cert -d a-name.yourdomain.com --ecc --fullchain-file /home/vpsadmin/xray_cert/xray.crt --key-file /home/vpsadmin/xray_cert/xray.key\necho "Xray Certificates Renewed"\n\nchmod +r /home/vpsadmin/xray_cert/xray.key\necho "Read Permission Granted for Private Key"\n\nsudo systemctl restart xray\necho "Xray Restarted"\n')])])]),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),e("p",[t._v("ç»å¤§å®¶æé†’ï¼Œ"),e("code",[t._v("acme.sh")]),t._v(" æœ‰ä¸€ä¸ª "),e("code",[t._v("reloadcmd")]),t._v(" å‘½ä»¤ï¼Œå¯ä»¥åœ¨è¯ä¹¦æ›´æ–°æ—¶è‡ªåŠ¨æ‰§è¡Œç‰¹å®šå‘½ä»¤ï¼Œé‚£ä¹ˆå°±å¯ä»¥æŒ‡å®šè‡ªåŠ¨ç»™ "),e("code",[t._v("Xray")]),t._v(" å®‰è£…è¯ä¹¦ï¼Œä½†å› ä¸º "),e("code",[t._v("crontab")]),t._v(" æ˜¯ Linux\nç³»ç»Ÿä¸­ä¸€ä¸ªéå¸¸æœ‰ç”¨ã€éå¸¸å¸¸ç”¨çš„åŠŸèƒ½ï¼Œæ‰€ä»¥æœ¬æ–‡ä¿ç•™ "),e("code",[t._v("crontab")]),t._v(" çš„æ–¹å¼æ¥æ›´æ–° "),e("code",[t._v("Xray")]),t._v(" è¯ä¹¦ã€‚ï¼ˆå¯¹ "),e("code",[t._v("reloadcmd")]),t._v(" æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥æŸ¥çœ‹ "),e("code",[t._v("acme.sh")]),t._v("\nçš„"),e("a",{attrs:{href:"https://github.com/acmesh-official/acme.sh",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®˜æ–¹æ–‡æ¡£"),e("OutboundLink")],1),t._v("ï¼‰")]),t._v(" "),e("p",[t._v("å¦å¤–ï¼Œå½•åˆ¶åŠ¨å›¾æ—¶ï¼Œè„šæœ¬ä¸­æ²¡æœ‰åŠ å…¥é‡å¯ "),e("code",[t._v("Xray")]),t._v(" çš„å‘½ä»¤ï¼Œæ˜¯å› ä¸º "),e("code",[t._v("Xray")]),t._v(" è®¡åˆ’æ”¯æŒã€è¯ä¹¦çƒ­æ›´æ–°ã€‘åŠŸèƒ½ï¼Œå³ "),e("code",[t._v("Xray")]),t._v(" ä¼šè‡ªåŠ¨è¯†åˆ«è¯ä¹¦æ›´æ–°å¹¶é‡è½½è¯ä¹¦ã€æ— éœ€æ‰‹åŠ¨é‡å¯ã€‚å¾…åŠŸèƒ½åŠ å…¥åï¼Œæˆ‘å°†é€‚å½“ä¿®æ”¹ "),e("code",[t._v("config.json")]),t._v("\nå¼€å¯æ­¤è®¾ç½®ï¼Œå¹¶åˆ é™¤è„šæœ¬ä¸­çš„é‡å¯å‘½ä»¤ã€‚")])])]),t._v(" "),e("li",[e("p",[t._v("ç»™è¿™ä¸ªæ–‡ä»¶å¢åŠ ã€å¯æ‰§è¡Œã€‘æƒé™")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ chmod +x ~/xray_cert/xray-cert-renew.sh\n")])])])]),t._v(" "),e("li",[e("p",[t._v("è¿è¡Œ "),e("code",[t._v("crontab -e")]),t._v("ï¼Œæ·»åŠ ä¸€ä¸ªè‡ªåŠ¨ä»»åŠ¡ã€æ¯æœˆè‡ªåŠ¨è¿è¡Œä¸€æ¬¡"),e("code",[t._v("xray-cert-renew.sh")]),t._v("ã€‘ (æ³¨æ„ä¸è¦åŠ "),e("code",[t._v("sudo")]),t._v("ï¼Œå› ä¸ºæˆ‘ä»¬å¢åŠ çš„æ˜¯"),e("code",[t._v("vpsadmin")]),t._v("\nè´¦æˆ·çš„è‡ªåŠ¨ä»»åŠ¡ã€‚åˆæ¬¡è¿è¡Œæ—¶ä¼šè®©ä½ é€‰æ‹©ç¼–è¾‘å™¨ï¼Œå½“ç„¶æ˜¯é€‰æ‹©ç†Ÿæ‚‰çš„"),e("code",[t._v("nano")]),t._v("å•¦ï¼)")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ crontab -e\n")])])])]),t._v(" "),e("li",[e("p",[t._v("æŠŠä¸‹é¢çš„å†…å®¹å¢åŠ åœ¨æ–‡ä»¶æœ€åï¼Œä¿å­˜é€€å‡ºå³å¯ã€‚")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("# 1:00am, 1st day each month, run `xray-cert-renew.sh`\n0 1 1 * *   bash /home/vpsadmin/xray_cert/xray-cert-renew.sh\n")])])])]),t._v(" "),e("li",[e("p",[t._v("å®Œæ•´æµç¨‹æ¼”ç¤ºå¦‚ä¸‹ï¼š")]),t._v(" "),e("p",[e("img",{attrs:{src:a(405),alt:"æ¯æœˆè‡ªåŠ¨ç»™Xrayå®‰è£…è¯ä¹¦"}})])])])])]),t._v(" "),e("h2",{attrs:{id:"_7-4-é…ç½®-xray"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-é…ç½®-xray"}},[t._v("#")]),t._v(" 7.4 é…ç½® Xray")]),t._v(" "),e("p",[t._v("é¦–å…ˆï¼Œå„ç§é…ç½®éƒ½å¯ä»¥å‚è€ƒ"),e("a",{attrs:{href:"https://github.com/XTLS/Xray-examples",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®˜æ–¹ VLESS é…ç½®ç¤ºä¾‹"),e("OutboundLink")],1),t._v("ã€‚æœ¬æ–‡ä¼šåŸºäºå®˜æ–¹ç¤ºä¾‹ï¼Œé…ç½®ä¸€ä¸ªæœ€ç²¾ç®€çš„æ–¹å¼ï¼šã€å• "),e("code",[t._v("VLESS")]),t._v(" åè®®å…¥ç«™ + "),e("code",[t._v("80")]),t._v("\nç«¯å£å›è½ã€‘ï¼Œæ»¡è¶³å¤§å¤šæ•°åœºæ™¯çš„æœ€å¤§é€Ÿåº¦åŠå¿…è¦å®‰å…¨ã€‚")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("ç”Ÿæˆä¸€ä¸ªåˆæ³•çš„ "),e("code",[t._v("UUID")]),t._v(" å¹¶ä¿å­˜å¤‡ç”¨ï¼ˆ"),e("code",[t._v("UUID")]),t._v("å¯ä»¥ç®€å•ç²—æš´çš„ç†è§£ä¸ºåƒæŒ‡çº¹ä¸€æ ·å‡ ä¹ä¸ä¼šé‡å¤çš„ IDï¼‰")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ xray uuid\n")])])])]),t._v(" "),e("li",[e("p",[t._v("å»ºç«‹æ—¥å¿—æ–‡ä»¶åŠæ–‡ä»¶å¤¹å¤‡ç”¨")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("å°å°ç™½ç™½ Linux åŸºç¡€å‘½ä»¤ï¼š | ç¼–å· | å‘½ä»¤åç§° | å‘½ä»¤è¯´æ˜ | |:--ğŸ˜:--ğŸ˜:--ğŸ˜ | "),e("code",[t._v("cmd-16")]),t._v(" | "),e("code",[t._v("touch")]),t._v(" | å»ºç«‹ç©ºç™½æ–‡ä»¶ |")])]),t._v(" "),e("li",[e("p",[t._v("åœ¨"),e("code",[t._v("vpsadmin")]),t._v("çš„æ–‡ä»¶å¤¹å†…å»ºç«‹ä¸€ä¸ªã€æ—¥å¿—ä¸“ç”¨æ–‡ä»¶å¤¹ã€‘")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ mkdir ~/xray_log\n")])])])]),t._v(" "),e("li",[e("p",[t._v("ç”Ÿæˆæ‰€éœ€çš„ä¸¤ä¸ªæ—¥å¿—æ–‡ä»¶ï¼ˆè®¿é—®æ—¥å¿—ã€é”™è¯¯æ—¥å¿—ï¼‰")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ touch ~/xray_log/access.log && touch ~/xray_log/error.log\n")])])]),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),e("p",[t._v("è¿™ä¸ªä½ç½®ä¸æ˜¯"),e("code",[t._v("Xray")]),t._v("æ ‡å‡†çš„æ—¥å¿—æ–‡ä»¶ä½ç½®ï¼Œæ”¾åœ¨è¿™é‡Œæ˜¯é¿å…æƒé™é—®é¢˜å¯¹æ–°äººçš„æ“ä½œå¸¦æ¥å›°æ‰°ã€‚å½“ä½ ç†Ÿæ‚‰ä¹‹åï¼Œå»ºè®®å›å½’é»˜è®¤ä½ç½®ï¼š "),e("code",[t._v("/var/log/xray/access.log")]),t._v("\nå’Œ "),e("code",[t._v("/var/log/xray/error.log")]),t._v(" ã€‚")])])]),t._v(" "),e("li",[e("p",[t._v("å› ä¸º Xray é»˜è®¤æ˜¯ nobody ç”¨æˆ·ä½¿ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è®©å…¶ä»–ç”¨æˆ·ä¹Ÿæœ‰â€œå†™â€çš„æƒé™ï¼ˆ"),e("code",[t._v("*.log")]),t._v(" å°±æ˜¯æ‰€æœ‰æ–‡ä»¶åç¼€æ˜¯"),e("code",[t._v("log")]),t._v("çš„æ–‡ä»¶ï¼Œæ­¤æ—¶"),e("code",[t._v("CLI")]),t._v("ç•Œé¢çš„æ•ˆç‡ä¼˜åŠ¿å°±é€æ¸å‡ºç°äº†ï¼‰")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ chmod a+w ~/xray_log/*.log\n")])])])])])]),t._v(" "),e("li",[e("p",[t._v("ä½¿ç”¨"),e("code",[t._v("nano")]),t._v("åˆ›å»º"),e("code",[t._v("Xray")]),t._v("çš„é…ç½®æ–‡ä»¶")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ sudo nano /usr/local/etc/xray/config.json\n")])])])]),t._v(" "),e("li",[e("p",[t._v("å°†ä¸‹é¢çš„æ–‡ä»¶å…¨éƒ¨å¤åˆ¶è¿›å»ï¼Œå¹¶å°†ä¹‹å‰ç”Ÿæˆçš„"),e("code",[t._v("UUID")]),t._v("å¡«å…¥ç¬¬ 61 è¡Œ "),e("code",[t._v('"id": "",')]),t._v(" ä¹‹ä¸­ã€‚ï¼ˆå¡«å¥½ä¹‹åçš„æ ·å­æ˜¯ "),e("code",[t._v('"id": "uuiduuid-uuid-uuid-uuid-uuiduuiduuid"')]),t._v("\nï¼‰ï¼Œæœ¬æ–‡çš„è¿™ä¸ªé…ç½®æ–‡ä»¶ä¸­å¢åŠ äº†æˆ‘çš„å„ç§å•°å—¦æ³¨è§£ï¼Œä»¥æ–¹ä¾¿ä½ ç†è§£æ¯ä¸€ä¸ªé…ç½®æ¨¡å—çš„åŠŸèƒ½æ˜¯ä»€ä¹ˆã€‚")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// REFERENCE:")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// https://github.com/XTLS/Xray-examples")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// https://xtls.github.io/config/")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¸¸ç”¨çš„ config æ–‡ä»¶ï¼Œä¸è®ºæœåŠ¡å™¨ç«¯è¿˜æ˜¯å®¢æˆ·ç«¯ï¼Œéƒ½æœ‰ 5 ä¸ªéƒ¨åˆ†ã€‚å¤–åŠ å°å°ç™½è§£è¯»ï¼š")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// â”Œâ”€ 1*log æ—¥å¿—è®¾ç½® - æ—¥å¿—å†™ä»€ä¹ˆï¼Œå†™å“ªé‡Œï¼ˆå‡ºé”™æ—¶æœ‰æ®å¯æŸ¥ï¼‰")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// â”œâ”€ 2_dns DNS-è®¾ç½® - DNS æ€ä¹ˆæŸ¥ï¼ˆé˜² DNS æ±¡æŸ“ã€é˜²å·çª¥ã€é¿å…å›½å†…å¤–ç«™åŒ¹é…åˆ°å›½å¤–æœåŠ¡å™¨ç­‰ï¼‰")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// â”œâ”€ 3_routing åˆ†æµè®¾ç½® - æµé‡æ€ä¹ˆåˆ†ç±»å¤„ç†ï¼ˆæ˜¯å¦è¿‡æ»¤å¹¿å‘Šã€æ˜¯å¦å›½å†…å¤–åˆ†æµï¼‰")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// â”œâ”€ 4_inbounds å…¥ç«™è®¾ç½® - ä»€ä¹ˆæµé‡å¯ä»¥æµå…¥ Xray")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// â””â”€ 5_outbounds å‡ºç«™è®¾ç½® - æµå‡º Xray çš„æµé‡å¾€å“ªé‡Œå»")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1\\_æ—¥å¿—è®¾ç½®")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"log"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"loglevel"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"warning"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// å†…å®¹ä»å°‘åˆ°å¤š: "none", "error", "warning", "info", "debug"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"access"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home/vpsadmin/xray_log/access.log"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¿é—®è®°å½•")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"error"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home/vpsadmin/xray_log/error.log"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é”™è¯¯è®°å½•")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2_DNS è®¾ç½®")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dns"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"servers"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https+local://1.1.1.1/dns-query"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é¦–é€‰ 1.1.1.1 çš„ DoH æŸ¥è¯¢ï¼Œç‰ºç‰²é€Ÿåº¦ä½†å¯é˜²æ­¢ ISP å·çª¥")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"localhost"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3*åˆ†æµè®¾ç½®")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"routing"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"domainStrategy"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AsIs"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"rules"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3.1 é˜²æ­¢æœåŠ¡å™¨æœ¬åœ°æµè½¬é—®é¢˜ï¼šå¦‚å†…ç½‘è¢«æ”»å‡»æˆ–æ»¥ç”¨ã€é”™è¯¯çš„æœ¬åœ°å›ç¯ç­‰")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"field"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ip"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"geoip:private"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// åˆ†æµæ¡ä»¶ï¼šgeoip æ–‡ä»¶å†…ï¼Œåä¸º"private"çš„è§„åˆ™ï¼ˆæœ¬åœ°ï¼‰')]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"outboundTag"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"block"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// åˆ†æµç­–ç•¥ï¼šäº¤ç»™å‡ºç«™"block"å¤„ç†ï¼ˆé»‘æ´å±è”½ï¼‰')]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3.2 å±è”½å¹¿å‘Š")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"field"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"domain"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"geosite:category-ads-all"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// åˆ†æµæ¡ä»¶ï¼šgeosite æ–‡ä»¶å†…ï¼Œåä¸º"category-ads-all"çš„è§„åˆ™ï¼ˆå„ç§å¹¿å‘ŠåŸŸåï¼‰')]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"outboundTag"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"block"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// åˆ†æµç­–ç•¥ï¼šäº¤ç»™å‡ºç«™"block"å¤„ç†ï¼ˆé»‘æ´å±è”½ï¼‰')]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 4*å…¥ç«™è®¾ç½®")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 4.1 è¿™é‡Œåªå†™äº†ä¸€ä¸ªæœ€ç®€å•çš„ vless+xtls çš„å…¥ç«™ï¼Œå› ä¸ºè¿™æ˜¯ Xray æœ€å¼ºå¤§çš„æ¨¡å¼ã€‚å¦‚æœ‰å…¶ä»–éœ€è¦ï¼Œè¯·æ ¹æ®æ¨¡ç‰ˆè‡ªè¡Œæ·»åŠ ã€‚")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"inbounds"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"port"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("443")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"protocol"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vless"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"settings"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"clients"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¡«å†™ä½ çš„ UUID")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"flow"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xtls-rprx-direct"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"level"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"email"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vpsadmin@yourdomain.com"')]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"decryption"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"none"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"fallbacks"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dest"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é»˜è®¤å›è½åˆ°é˜²æ¢æµ‹çš„ä»£ç†")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"streamSettings"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"network"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tcp"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"security"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xtls"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"xtlsSettings"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"allowInsecure"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ­£å¸¸ä½¿ç”¨åº”ç¡®ä¿å…³é—­")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"minVersion"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.2"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// TLS æœ€ä½ç‰ˆæœ¬è®¾ç½®")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"alpn"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http/1.1"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"certificates"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"certificateFile"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home/vpsadmin/xray_cert/xray.crt"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"keyFile"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home/vpsadmin/xray_cert/xray.key"')]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 5*å‡ºç«™è®¾ç½®")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"outbounds"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 5.1 ç¬¬ä¸€ä¸ªå‡ºç«™æ˜¯é»˜è®¤è§„åˆ™ï¼Œfreedom å°±æ˜¯å¯¹å¤–ç›´è¿ï¼ˆvps å·²ç»æ˜¯å¤–ç½‘ï¼Œæ‰€ä»¥ç›´è¿ï¼‰")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tag"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"direct"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"protocol"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"freedom"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 5.2 å±è”½è§„åˆ™ï¼Œblackhole åè®®å°±æ˜¯æŠŠæµé‡å¯¼å…¥åˆ°é»‘æ´é‡Œï¼ˆå±è”½ï¼‰")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tag"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"block"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"protocol"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"blackhole"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])]),t._v(" "),e("ol",{attrs:{start:"5"}},[e("li",[t._v("å®Œæ•´æµç¨‹æ¼”ç¤ºå¦‚ä¸‹ï¼š\n"),e("img",{attrs:{src:a(406),alt:"åˆ›å»ºæ—¥å¿—æ–‡ä»¶åŠé…ç½®æ–‡ä»¶"}})])]),t._v(" "),e("h2",{attrs:{id:"_7-5-å¯åŠ¨-xray-æœåŠ¡-å¹¶æŸ¥çœ‹æœåŠ¡çŠ¶æ€"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-5-å¯åŠ¨-xray-æœåŠ¡-å¹¶æŸ¥çœ‹æœåŠ¡çŠ¶æ€"}},[t._v("#")]),t._v(" 7.5 å¯åŠ¨ Xray æœåŠ¡ï¼ï¼ï¼ˆå¹¶æŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼‰")]),t._v(" "),e("p",[t._v("å¦‚æœä½ æ˜¯è·Ÿéšæœ¬æ–‡ä¸€æ­¥æ­¥è®¾ç½®è¿‡æ¥ï¼Œå…¶å®å°±å·²ç»é¿å¼€äº†æœ€å¸¸è§"),e("strong",[t._v("æ—¥å¿—æ–‡ä»¶æƒé™ä¸è¶³")]),t._v("ã€"),e("strong",[t._v("è¯ä¹¦æ–‡ä»¶æƒé™ä¸è¶³")]),t._v(" è¿™ä¸¤ä¸ªå¤§å‘ã€‚é‚£ä¹ˆç°åœ¨è¿è¡Œ"),e("code",[t._v("Xray")]),t._v("è‡ªç„¶åº”è¯¥æ— æ¯”é¡ºåˆ©ã€‚")]),t._v(" "),e("ol",[e("li",[t._v("è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼Œäº«å—å¯åŠ¨"),e("code",[t._v("Xray")]),t._v("çš„å†å²æ€§æ—¶åˆ»å§ï¼ï¼ï¼")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("\n\\$ sudo systemctl start xray\n\n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[t._v("ä»…ä»…"),e("code",[t._v("start")]),t._v("æˆ‘ä»¬å¹¶ä¸èƒ½ç¡®å®šæ˜¯å¦æˆåŠŸçš„å¼€å¯äº† Xray çš„æœåŠ¡ï¼Œè¦ç¡®å®šå®ƒçš„çŠ¶æ€ï¼Œå°±è¦ç”¨åˆ°ä¸‹é¢çš„å‘½ä»¤ã€‚")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("\n\\$ sudo systemctl status xray\n\n")])])]),e("p",[t._v("çœ‹åˆ°é‚£ä¸ªç»¿è‰²çš„ã€ä»¤äººæ„‰æ‚¦çš„ "),e("code",[t._v("active (running)")]),t._v(" äº†å—ï¼Ÿå®ƒå°±æ˜¯è¯´ "),e("code",[t._v("Xray")]),t._v(" å·²ç»åœ¨æ­£ç¡®çš„è¿è¡Œäº†")]),t._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[t._v("å®Œæ•´æµç¨‹æ¼”ç¤ºå¦‚ä¸‹ï¼š")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(407),alt:"å¯åŠ¨å¹¶æŸ¥çœ‹Xrayè¿è¡ŒçŠ¶æ€"}})]),t._v(" "),e("h2",{attrs:{id:"_7-6-å›é¡¾-systemd-è¿›è¡ŒåŸºæœ¬çš„æœåŠ¡ç®¡ç†"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-6-å›é¡¾-systemd-è¿›è¡ŒåŸºæœ¬çš„æœåŠ¡ç®¡ç†"}},[t._v("#")]),t._v(" 7.6 å›é¡¾ "),e("code",[t._v("systemd")]),t._v(" è¿›è¡ŒåŸºæœ¬çš„æœåŠ¡ç®¡ç†")]),t._v(" "),e("p",[t._v("åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»ä½¿ç”¨è¿‡äº†"),e("code",[t._v("systemctl")]),t._v("ç›¸å…³çš„"),e("code",[t._v("start")]),t._v(", "),e("code",[t._v("status")]),t._v(", "),e("code",[t._v("reload")]),t._v(" ç­‰å‘½ä»¤ï¼Œè¿™äº›éƒ½æ˜¯åŸºäº"),e("code",[t._v("systmed")]),t._v("ç®¡ç†æ¨¡å—å¯¹ Linux\nç³»ç»Ÿä¸­å„ç§æœåŠ¡è¿›è¡Œç®¡ç†çš„é€šç”¨å‘½ä»¤ã€‚ç°åœ¨æ­£å¥½ç†Ÿæ‚‰ä¸€ä¸‹ç›¸å…³çš„å…¶ä»–å‡ ä¸ªå‘½ä»¤ã€‚")]),t._v(" "),e("ol",[e("li",[t._v("è‹¥ä½ éœ€è¦æš‚æ—¶å…³é—­ "),e("code",[t._v("Xray")]),t._v(" çš„æœåŠ¡ï¼Œé‚£å°±ç”¨"),e("code",[t._v("stop")]),t._v("å‘½ä»¤")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("\n\\$ sudo systemctl stop xray\n\n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[t._v("è‹¥ä½ éœ€è¦é‡å¯"),e("code",[t._v("Xray")]),t._v("çš„æœåŠ¡ï¼Œé‚£å°±ç”¨"),e("code",[t._v("restart")]),t._v("å‘½ä»¤")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("\n\\$ sudo systemctl restart xray\n\n")])])]),e("ol",{attrs:{start:"3"}},[e("li",[t._v("è‹¥ä½ éœ€è¦ç¦ç”¨"),e("code",[t._v("Xray")]),t._v("çš„æœåŠ¡ï¼ˆç”µè„‘é‡å¯åç¦æ­¢ Xray è‡ªåŠ¨è¿è¡Œï¼‰ï¼Œé‚£å°±ç”¨"),e("code",[t._v("disable")]),t._v("å‘½ä»¤")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("\n\\$ sudo systemctl disable xray\n\n")])])]),e("ol",{attrs:{start:"4"}},[e("li",[t._v("è‹¥ä½ éœ€è¦å¯ç”¨"),e("code",[t._v("Xray")]),t._v("çš„æœåŠ¡ï¼ˆç”µè„‘é‡å¯åç¡®ä¿ Xray è‡ªåŠ¨è¿è¡Œï¼‰ï¼Œé‚£å°±ç”¨"),e("code",[t._v("enable")]),t._v("å‘½ä»¤")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("\n\\$ sudo systemctl enable xray\n\n")])])]),e("h2",{attrs:{id:"_7-7-æœåŠ¡å™¨ä¼˜åŒ–ä¹‹ä¸€-å¼€å¯-bbr"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-7-æœåŠ¡å™¨ä¼˜åŒ–ä¹‹ä¸€-å¼€å¯-bbr"}},[t._v("#")]),t._v(" 7.7 æœåŠ¡å™¨ä¼˜åŒ–ä¹‹ä¸€ï¼šå¼€å¯ BBR")]),t._v(" "),e("ol",[e("li",[t._v("ä¼ è¯´ä¸­çš„"),e("code",[t._v("BBR")])])]),t._v(" "),e("p",[t._v("æˆ‘ç›¸ä¿¡ï¼Œä½ åœ¨æœç´¢å„ç§ç§‘å­¦ä¸Šç½‘æŠ€æœ¯çš„æ—¶å€™ï¼Œè‚¯å®šä¸æ­¢ä¸€æ¬¡çš„å¬è¿‡"),e("code",[t._v("bbr")]),t._v("è¿™ä¸ªä¸œè¥¿ï¼Œåœ¨å„ç§åšå®¢æ·»æ²¹åŠ é†‹ä¹‹ä¸‹ï¼Œè®©äººè§‰å¾—å®ƒç¥ä¹å…¶ç¥ã€‚æ›´æœ‰"),e("code",[t._v("bbrplus")]),t._v(", "),e("code",[t._v("bbr2")]),t._v(", "),e("code",[t._v("é­”æ”¹bbr")]),t._v(" ç­‰ä¸€å¤§å †è¡ç”Ÿå“ã€‚ä»¿ä½›ç¥æ²¹ä¸€èˆ¬ï¼Œç”¨äº†å°±èƒ½é‡é¸¡çº¿è·¯å˜ä¸“çº¿ã€‚")]),t._v(" "),e("p",[t._v("é‚£ä¹ˆï¼Œè¿™ä¸œè¥¿ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰æ²¡æœ‰ç”¨ï¼Ÿåˆè¯¥ç”¨å“ªä¸€ä¸ªç‰ˆæœ¬å‘¢ï¼Ÿ")]),t._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[t._v("å®é™…çš„"),e("code",[t._v("BBR")])])]),t._v(" "),e("p",[e("strong",[t._v("BBR")]),t._v(" = "),e("strong",[t._v("B")]),t._v("ottleneck "),e("strong",[t._v("B")]),t._v("andwidth and "),e("strong",[t._v("R")]),t._v("ound-trip propagation timeï¼Œæ˜¯ä¸€ç§ TCP çš„"),e("strong",[t._v("æ‹¥å¡æ§åˆ¶ç®—æ³•")]),t._v("ã€‚ç®€å•ç²—æš´çš„ç†è§£å°±æ˜¯"),e("strong",[t._v("æ•°æ®æµé‡çš„äº¤é€šç®¡ç†")]),t._v("\nï¼šå½“å…¬è·¯ä¸å†å¡è½¦çš„æ—¶å€™ï¼Œæ¯è¾†è½¦è‡ªç„¶å°±èƒ½ä¿æŒè¾ƒå¿«çš„è½¦é€Ÿäº†ã€‚")]),t._v(" "),e("p",[t._v("é‚£ä¹ˆå®ƒæœ‰æ²¡æœ‰ç”¨å‘¢ï¼Ÿä¸€èˆ¬è€Œè¨€ï¼Œ"),e("code",[t._v("æœ‰BBR")]),t._v(" å’Œ "),e("code",[t._v("æ²¡æœ‰BBR")]),t._v(" ä¼šæœ‰å¯ä»¥æ„ŸçŸ¥çš„å·®åˆ«ï¼ˆé€Ÿåº¦ã€ç¨³å®šæ€§ã€å»¶è¿Ÿæ–¹é¢éƒ½ä¼šæœ‰ä¸€äº›æ”¹å–„ï¼‰ï¼Œæ‰€ä»¥ "),e("strong",[t._v("ã€éå¸¸å»ºè®®å¼€å¯ "),e("code",[t._v("BBR")]),t._v("ã€‘")]),t._v("ã€‚")]),t._v(" "),e("p",[t._v("ä½†å¼€å¯ä¹‹åï¼Œ"),e("code",[t._v("BBR")]),t._v(" åœ¨ "),e("code",[t._v("4.x")]),t._v(" å’Œ "),e("code",[t._v("5.x")]),t._v(" ä¹‹é—´çš„å·®å¼‚å¾€å¾€æ¯”è¾ƒå¾®å¦™ã€è§ä»è§æ™ºï¼Œé€ æˆä½“éªŒå·®åˆ«çš„å†³å®šæ€§å› ç´ ä»ç„¶æ˜¯çº¿è·¯è´¨é‡ã€‚æ‰€ä»¥ "),e("strong",[t._v("ã€ä¸å¿…çº ç»“ç‰ˆæœ¬ã€ä¸å¿…ç›²ç›®è¿½æ–°ã€è·Ÿéšä½ çš„å‘è¡Œç‰ˆæ›´æ–°å†…æ ¸å³å¯ã€‘")])]),t._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[e("code",[t._v("bbrplus")]),t._v(", "),e("code",[t._v("bbr2")]),t._v(", "),e("code",[t._v("é­”æ”¹bbr")]),t._v(" å’Œå…¶ä»–å„ç§å¬èµ·æ¥å°±é…·ç‚«çš„ç‰ˆæœ¬æ˜¯ä¸æ˜¯æ›´å¥½ï¼Ÿ")])]),t._v(" "),e("p",[t._v("ä¸€å¥è¯ï¼š"),e("strong",[t._v("ä¸æ˜¯ï¼ä¸è¦ç”¨è¿™äº›ï¼è¿™äº›éƒ½ä¸ºäº†å¸å¼•çœ¼çƒä¹±èµ·çš„åå­—ï¼")])]),t._v(" "),e("p",[e("code",[t._v("BBR")]),t._v(" çš„æ›´æ–°å’Œå‘å¸ƒï¼Œéƒ½æ˜¯è·Ÿéš Linux çš„å†…æ ¸ï¼ˆ"),e("code",[t._v("Kernel")]),t._v("ï¼‰è¿›è¡Œçš„ã€‚æ¢è¨€ä¹‹ï¼Œåªè¦ä½ ç”¨çš„æ˜¯æ¯”è¾ƒæ–°çš„å†…æ ¸ï¼Œå°±è‡ªç„¶ä¼šä½¿ç”¨åˆ°æ–°ç‰ˆ"),e("code",[t._v("BBR")]),t._v("ã€‚")]),t._v(" "),e("p",[t._v("è€Œè¿™äº›åå­—çœ‹èµ·æ¥å¾ˆé…·ç‚«çš„ä¸œè¥¿ï¼Œè¯´ç™½äº†å°±æ˜¯ä»æœªæ­£å¼å‘å¸ƒçš„ã€å°šåœ¨æµ‹è¯•é˜¶æ®µçš„å†…æ ¸åŠå…¶å¯¹åº”çš„"),e("code",[t._v("BBR")]),t._v("ç‰ˆæœ¬ã€‚è¿™äº›è„šæœ¬ä¹Ÿä»…ä»…å°±æ˜¯é€šè¿‡ä¸‹è½½é¢„è§ˆç‰ˆçš„å†…æ ¸ï¼ˆç”šè‡³ç¬¬ä¸‰æ–¹é­”æ”¹å†…æ ¸ï¼‰æ¥ç‡å…ˆå¼€å¯è€Œå·²ã€‚")]),t._v(" "),e("p",[t._v("å†…æ ¸çš„ç¨³å®šæ˜¯ä¸€å°æœåŠ¡å™¨ç¨³å®šè¿è¡Œçš„åŸºçŸ³ã€‚"),e("strong",[t._v("ã€BBR æµ‹è¯•ç‰ˆå¸¦æ¥çš„ç»†å¾®æ€§èƒ½å·®å¼‚ç»å¯¹ä¸å€¼å¾—æ›´æ¢ä¸ç¨³å®šçš„å†…æ ¸ã€‚ã€‘")]),t._v(" è¯·é€‰æ‹©ä½ æ‰€åœ¨çš„ Linux å‘è¡Œç‰ˆæ‰€æ”¯æŒçš„æœ€æ–°å†…æ ¸ï¼Œè¿™æ ·å¯ä»¥æœ€å¤§é™åº¦çš„ä¿æŒæœåŠ¡å™¨çš„é•¿æœŸç¨³å®šå’Œå…¼å®¹ã€‚")]),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),e("p",[t._v("æ‰€è°“é­”æ”¹"),e("code",[t._v("bbr")]),t._v("çš„ã€é¢†å…ˆã€‘æ˜¯æœ‰éå¸¸å¼ºçš„æ—¶æ•ˆæ€§çš„ã€‚æ¯”å¦‚å¾ˆå¤š "),e("code",[t._v("bbrplus")]),t._v(" è„šæœ¬ï¼Œå› ä¸ºå‡ å¹´æ¥éƒ½æ²¡æœ‰æ›´æ–°ï¼Œåˆ°ç°åœ¨è¿˜ä¼šæŠŠä½ çš„å†…æ ¸æ¢æˆ "),e("code",[t._v("4.19")]),t._v("ï¼Œè¦çŸ¥é“ç°åœ¨ç¨³å®šå¦‚ Debian å·²ç»æ˜¯ "),e("code",[t._v("5.9")]),t._v("\nçš„æ—¶ä»£äº†ï¼Œé‚£ä¹ˆè¿™ä¸ªè„šæœ¬æ”¾åœ¨ 2018 å¹´ 1 æœˆä¹Ÿè®¸é¢†å…ˆäº†ä¸€ç‚¹ï¼Œåˆ° 2018 å¹´ 10 æœˆ 4.19 æ­£å‘å¸ƒæ—¶å°±å·²ç»å¤±å»äº†æ„ä¹‰ï¼Œæ”¾åœ¨ç°åœ¨ç”šè‡³å¯ä»¥è¯´æ˜¯å®Œå®Œå…¨å…¨çš„ã€é™çº§ã€‘å’Œã€åŠ£åŒ–ã€‘")])]),t._v(" "),e("ol",{attrs:{start:"4"}},[e("li",[e("code",[t._v("fq")]),t._v(", "),e("code",[t._v("fq_codel")]),t._v(", "),e("code",[t._v("fq_pie")]),t._v(", "),e("code",[t._v("cake")]),t._v("å’Œå…¶ä»–ç®—æ³•å“ªä¸ªå¥½ï¼Ÿ")])]),t._v(" "),e("p",[t._v("ä¸€å¥è¯ï¼š"),e("strong",[t._v("çœ‹ä¸æ‡‚çš„è¯ï¼Œè¯·ä¿æŒ"),e("code",[t._v("fq")]),t._v("ï¼Œè¶³å¤Ÿã€ä¸”ä¸ä¼šåŠ£åŒ–ä½ çš„çº¿è·¯")])]),t._v(" "),e("ol",{attrs:{start:"5"}},[e("li",[t._v("é”é€Ÿã€Finalspeedã€LotServer å’Œå…¶ä»–â€œåŠ é€Ÿå·¥å…·â€")])]),t._v(" "),e("p",[t._v("ä¸€å¥è¯ï¼š"),e("strong",[t._v("ä¸è¦ç”¨è¿™äº›ï¼æŠŠä»–ä»¬ä¸¢è¿›å†å²çš„åƒåœ¾æ¡¶å§ï¼")])]),t._v(" "),e("p",[t._v("å®ƒèƒ½è§£å†³çš„ä¹Ÿåªæœ‰ä¸¢åŒ…ç‡çš„é—®é¢˜ã€‚ä¸å¤ªå‡†ç¡®çš„æ¯”å–»ï¼Œå°±æ˜¯æœ¬æ¥ä½ ç”¨ä¸€è¾†è½¦é€ä½ çš„è´§ï¼Œæœ‰æ—¶å€™è½¦åŠè·¯å°±åäº†ï¼ˆä¸¢åŒ…ï¼‰ï¼Œç”¨äº†è¿™äº›ä»¥åï¼Œä½ ç›´æ¥æ´¾å‡º 3\nä»½ä¸€æ ·çš„è´§ï¼Œè®©ä¸‰è¾†è½¦åŒæ—¶é€ï¼Œåªè¦æœ‰ä¸€è¾†æ²¡åå°±èƒ½é€åˆ°ã€‚é©¬è·¯ä¸Šéƒ½æ˜¯ä½ çš„è½¦ï¼Œè‡ªç„¶å°±èƒ½æŠŠåˆ«äººæŒ¤ä¸‹å»ã€‚ä½†å¯æƒ³è€ŒçŸ¥ï¼Œä½ æŒ¤åˆ«äººçš„æ—¶å€™ï¼Œåˆ«äººä¹Ÿä¼šæ¥æŒ¤ä½ ï¼Œè€Œæ•´ä¸ªæœºæˆ¿çš„å‡ºå£é“è·¯ä¸€å…±å°±é‚£ä¹ˆå®½ï¼Œæœ€ç»ˆåŠ¿å¿…å°±å˜æˆé›†ä½“å¤§å µè½¦äº†ã€‚")]),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("è¯´æ˜")]),t._v(" "),e("p",[t._v("å®ƒä»¬çš„åŸç†ä¸æ˜¯ç®—æ³•ä¼˜åŒ–ã€ä¸æ˜¯æé€Ÿã€å¤§å¤šæ•°æ˜¯ç®€å•ç²—æš´çš„"),e("strong",[t._v("å¤šå€å‘åŒ…")]),t._v("ã€‚å¯¹äºã€ä¸¢åŒ…ç‡éå¸¸é«˜ã€‘çš„å·®çº¿è·¯å¯èƒ½æœ‰ä¸€ç‚¹ä½œç”¨ï¼Œä½†ã€å¯¹ä¸¢åŒ…ç‡ä½çš„å¥½çº¿è·¯æ²¡æœ‰ä»»ä½•ä¼˜åŒ–ä½œç”¨ï¼Œåè€Œä¼šæˆå€çš„æ¶ˆè€—ä½ çš„æµé‡ã€‘ï¼Œè¿›è€Œé€ æˆæœåŠ¡å™¨å’Œä½ çš„é‚»å±…ä¸å¿…è¦çš„å‹åŠ›ã€‚")]),t._v(" "),e("p",[t._v("å¦‚æœä½ çš„çº¿è·¯çœŸçš„ä¸¢åŒ…ç‡å¥‡é«˜ï¼ŒçœŸæ­£é è°±çš„è§£å†³æ–¹æ¡ˆæ˜¯ã€æ¢çº¿è·¯ã€‘ã€‚")])]),t._v(" "),e("ol",{attrs:{start:"6"}},[e("li",[e("p",[t._v("å•°å—¦äº†è¿™ä¹ˆå¤šï¼Œå°±æ˜¯å› ä¸ºå›´ç»• "),e("code",[t._v("BBR")]),t._v(" å¿½æ‚ å°ç™½çš„é”™è¯¯æ¦‚å¿µå’Œå‘äººè„šæœ¬å®åœ¨æ˜¯å¤ªå¤šäº†ã€‚æˆ‘å¸Œæœ›ä½ ä»¬ç°åœ¨å¯¹ "),e("code",[t._v("BBR")]),t._v(" æœ‰äº†ç›¸å¯¹æ¸…æ™°çš„ç†è§£ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±åŠ¨æ‰‹å®‰è£…æœ€æ–°çš„ Debian å†…æ ¸å¹¶å¼€å¯"),e("code",[t._v("BBR")]),t._v(" å§ï¼ï¼ˆçœŸçš„å¾ˆç®€å•ï¼‰")])]),t._v(" "),e("li",[e("p",[t._v("ç»™ Debian 10 æ·»åŠ å®˜æ–¹ "),e("code",[t._v("backports")]),t._v(" æºï¼Œè·å–æ›´æ–°çš„è½¯ä»¶åº“")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("\n\\$ sudo nano /etc/apt/sources.list\n\n")])])]),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("è¯´æ˜")]),t._v(" "),e("p",[t._v("æœ¬æ–‡ä»¥ Debian 10 ä¸ºä¾‹ï¼Œæ‰€ä»¥ä½¿ç”¨ "),e("code",[t._v("/etc/apt/sources.list")]),t._v(" ä»æ— é—®é¢˜ï¼Œä½†å¦‚æœä½ å¹¶ä¸æ˜¯æ ¹æ®æœ¬æ–‡ä»å¤´å¼€å§‹ï¼Œæˆ–è€…ä½¿ç”¨äº†å…¶ä»– Linux\nå‘è¡Œç‰ˆï¼Œé‚£ä¹ˆå»ºè®®ä½ å»ºç«‹ "),e("code",[t._v("/etc/apt/sources.list.d/")]),t._v(" æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹å†…å»ºç«‹è‡ªå·±çš„é…ç½®æ–‡ä»¶ï¼Œå½¢å¦‚ "),e("code",[t._v("/etc/apt/sources.list.d/vpsadmin.list")]),t._v("\nï¼Œä»¥æ­¤ä¿è¯å…¼å®¹æ€§ï¼Œä¹Ÿå¯é¿å…é»˜è®¤æ–‡ä»¶åœ¨ä¸å¯é¢„è§çš„æƒ…å†µä¸‹è¢«è¦†ç›–è€Œå¯¼è‡´é…ç½®ä¸¢å¤±ã€‚")])]),t._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[t._v("ç„¶åæŠŠä¸‹é¢è¿™ä¸€æ¡åŠ åœ¨æœ€åï¼Œå¹¶ä¿å­˜é€€å‡ºã€‚")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("deb http://deb.debian.org/debian buster-backports main\n")])])]),e("ol",{attrs:{start:"3"}},[e("li",[t._v("åˆ·æ–°è½¯ä»¶åº“å¹¶æŸ¥è¯¢ Debian å®˜æ–¹çš„æœ€æ–°ç‰ˆå†…æ ¸å¹¶å®‰è£…ã€‚è¯·åŠ¡å¿…å®‰è£…ä½ çš„ VPS å¯¹åº”çš„ç‰ˆæœ¬ï¼ˆæœ¬æ–‡ä»¥æ¯”è¾ƒå¸¸è§çš„ã€amd64ã€‘ä¸ºä¾‹ï¼‰ã€‚")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ sudo apt update && sudo apt -t buster-backports install linux-image-amd64\n")])])]),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),e("p",[t._v("å¦‚æœä½ çš„ VPS æ”¯æŒï¼Œå¯ä»¥å°è¯•ã€äº‘æœåŠ¡å™¨ä¸“ç”¨å†…æ ¸ã€‘"),e("code",[t._v("linux-image-cloud-amd64")]),t._v("ï¼Œä¼˜ç‚¹å°±æ˜¯ç²¾ç®€ã€èµ„æºå ç”¨ä½ï¼Œç¼ºç‚¹å˜›æ˜¯æœ‰åŒå­¦åé¦ˆä¸æ”¯æŒçš„ç³»ç»Ÿå¼ºè¡Œå®‰è£…ä¼šå¯¼è‡´æ— æ³•å¼€æœºï¼ˆKernel æ— æ³•è¯†åˆ«ï¼‰ã€‚")]),t._v(" "),e("p",[t._v("ä¸ºäº†é¿å…æ— æ³•è¯†åˆ«çš„æ‚²å‰§ï¼Œè¯·ç¡®ä¿ï¼š")]),t._v(" "),e("ul",[e("li",[t._v("å°è¯•å‰åšä¸€ä¸ªç³»ç»Ÿå¿«ç…§ï¼Œæˆ–è€…")]),t._v(" "),e("li",[t._v("ä½ æœ‰ "),e("code",[t._v("vnc")]),t._v(" å¯ä»¥æ•‘åœºï¼ˆå¹¶ä¸”ä½ çŸ¥é“æ€ä¹ˆç”¨ï¼‰")])])]),t._v(" "),e("ol",{attrs:{start:"4"}},[e("li",[t._v("ä¿®æ”¹ "),e("code",[t._v("kernel")]),t._v(" å‚æ•°é…ç½®æ–‡ä»¶ "),e("code",[t._v("sysctl.conf")]),t._v(" å¹¶æŒ‡å®šå¼€å¯ "),e("code",[t._v("BBR")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ sudo nano /etc/sysctl.conf\n")])])]),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("è¯´æ˜")]),t._v(" "),e("p",[t._v("æœ¬æ–‡ä»¥ Debian 10 ä¸ºä¾‹ï¼Œæ‰€ä»¥ä½¿ç”¨ "),e("code",[t._v("/etc/sysctl.conf")]),t._v(" ä»æ— é—®é¢˜ï¼Œä½†å¦‚æœä½ å¹¶ä¸æ˜¯è·Ÿç€æœ¬æ–‡ä»å¤´å¼€å§‹ï¼Œæˆ–è€…ä½¿ç”¨äº†å…¶ä»– Linux å‘è¡Œç‰ˆï¼Œé‚£ä¹ˆå»ºè®®ä½ å»ºç«‹ "),e("code",[t._v("/etc/sysctl.d/")]),t._v("\næ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹å†…å»ºç«‹è‡ªå·±çš„é…ç½®æ–‡ä»¶ï¼Œå½¢å¦‚ "),e("code",[t._v("/etc/sysctl.d/vpsadmin.conf")]),t._v("ï¼Œä»¥æ­¤ä¿è¯å…¼å®¹æ€§ï¼Œå› ä¸ºéƒ¨åˆ†å‘è¡Œç‰ˆåœ¨ "),e("code",[t._v("systemd")]),t._v("\n207 ç‰ˆæœ¬ä¹‹åä¾¿ä¸å†ä» "),e("code",[t._v("/etc/sysctl.conf")]),t._v(" è¯»å–å‚æ•°ã€‚ä½¿ç”¨è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ä¹Ÿå¯é¿å…é»˜è®¤æ–‡ä»¶åœ¨ä¸å¯é¢„è§çš„æƒ…å†µä¸‹è¢«è¦†ç›–è€Œå¯¼è‡´é…ç½®ä¸¢å¤±ã€‚")])]),t._v(" "),e("ol",{attrs:{start:"5"}},[e("li",[t._v("æŠŠä¸‹é¢çš„å†…å®¹æ·»åŠ è¿›å»")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("net.core.default_qdisc=fq\nnet.ipv4.tcp_congestion_control=bbr\n")])])]),e("ol",{attrs:{start:"6"}},[e("li",[t._v("é‡å¯ VPSã€ä½¿å†…æ ¸æ›´æ–°å’Œ"),e("code",[t._v("BBR")]),t._v("è®¾ç½®éƒ½ç”Ÿæ•ˆ")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ sudo reboot\n")])])]),e("ol",{attrs:{start:"7"}},[e("li",[t._v("å®Œæ•´æµç¨‹æ¼”ç¤ºå¦‚ä¸‹ï¼š")])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("å•°å—¦å›")]),t._v(" "),e("p",[t._v("å› ä¸ºæˆ‘åšå±•ç¤ºçš„ VPS æ”¯æŒäº‘æœåŠ¡å™¨ä¸“ç”¨å†…æ ¸ï¼Œæ‰€ä»¥åŠ¨å›¾ä¸­æˆ‘ç”¨äº† "),e("code",[t._v("linux-image-cloud-amd64")]),t._v("\nã€‚å¦‚æœä½ ä¸ç¡®å®šä½ çš„ VPS æ˜¯å¦æ”¯æŒï¼Œé‚£è¯·åŠ¡å¿…æŒ‰ç…§ç¬¬ 3 æ­¥çš„å‘½ä»¤ï¼Œä½¿ç”¨å¸¸è§„å†…æ ¸ "),e("code",[t._v("linux-image-amd64")]),t._v("ã€‚")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(408),alt:"æ›´æ–°Debianå†…æ ¸å¹¶å¼€å¯"}})]),t._v(" "),e("ol",{attrs:{start:"8"}},[e("li",[t._v("ç¡®è®¤"),e("code",[t._v("BBR")]),t._v("å¼€å¯")])]),t._v(" "),e("p",[t._v("å¦‚æœä½ æƒ³ç¡®è®¤ "),e("code",[t._v("BBR")]),t._v(" æ˜¯å¦æ­£ç¡®å¼€å¯ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ lsmod | grep bbr\n")])])]),e("p",[t._v("æ­¤æ—¶åº”è¯¥è¿”å›è¿™æ ·çš„ç»“æœï¼š")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("tcp_bbr\n")])])]),e("p",[t._v("å¦‚æœä½ æƒ³ç¡®è®¤ "),e("code",[t._v("fq")]),t._v(" ç®—æ³•æ˜¯å¦æ­£ç¡®å¼€å¯ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ lsmod | grep fq\n")])])]),e("p",[t._v("æ­¤æ—¶åº”è¯¥è¿”å›è¿™æ ·çš„ç»“æœï¼š")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("sch_fq\n")])])]),e("h2",{attrs:{id:"_7-8-æœåŠ¡å™¨ä¼˜åŒ–ä¹‹äºŒ-å¼€å¯-http-è‡ªåŠ¨è·³è½¬-https"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-8-æœåŠ¡å™¨ä¼˜åŒ–ä¹‹äºŒ-å¼€å¯-http-è‡ªåŠ¨è·³è½¬-https"}},[t._v("#")]),t._v(" 7.8 æœåŠ¡å™¨ä¼˜åŒ–ä¹‹äºŒï¼šå¼€å¯ HTTP è‡ªåŠ¨è·³è½¬ HTTPS")]),t._v(" "),e("ol",[e("li",[t._v("ä¹‹å‰æˆ‘ä»¬å·²ç»æ­å»ºäº† "),e("code",[t._v("80")]),t._v(" ç«¯å£çš„ "),e("code",[t._v("http")]),t._v(" ç½‘é¡µï¼Œå¹¶ä»¥æ­¤ç”³è¯·äº† TLS è¯ä¹¦ã€‚")])]),t._v(" "),e("p",[t._v("ä½†å¦‚æœä½ å°è¯•è¿‡ç”¨æµè§ˆå™¨è®¿é—®æˆ‘ä»¬çš„è¿™ä¸ªç•Œé¢ï¼Œå°±ä¼šå‘ç° "),e("code",[t._v("http")]),t._v(" è®¿é—®å¹¶ä¸ä¼šåƒå¤§å¤šæ•°ç½‘ç«™ä¸€æ ·è‡ªåŠ¨å‡çº§ä¸º "),e("code",[t._v("https")]),t._v(" è®¿é—®ã€‚æ¢è¨€ä¹‹ï¼Œæˆ‘ä»¬ç°åœ¨çš„è®¾ç½®ä¸‹ï¼Œ"),e("code",[t._v("http(80)")]),t._v(" å’Œ "),e("code",[t._v("https(443)")]),t._v("\nä¹‹é—´å®Œå…¨æ˜¯ç‹¬ç«‹çš„ã€‚å¦‚æœè¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±éœ€è¦åšä¸€äº›ä¿®æ”¹ã€‚")]),t._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[t._v("ç¼–è¾‘ Nginx çš„é…ç½®æ–‡ä»¶")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("\n\\$ sudo nano /etc/nginx/nginx.conf\n\n")])])]),e("ol",{attrs:{start:"3"}},[e("li",[t._v("åœ¨æˆ‘ä»¬è®¾ç½®è¿‡çš„ 80 ç«¯å£ Server ä¸­åŠ å…¥ä¸‹é¢çš„è¯­å¥ï¼Œå¹¶ä¿å­˜é€€å‡ºï¼ˆå¯åŒæ—¶åˆ é™¤"),e("code",[t._v("root")]),t._v("å’Œ"),e("code",[t._v("index")]),t._v("ä¸¤è¡Œï¼‰")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("\nreturn 301 https://$http_host$request_uri;\n\n")])])]),e("ol",{attrs:{start:"4"}},[e("li",[t._v("åœ¨ä¸ "),e("code",[t._v("80")]),t._v(" ç«¯å£åŒçº§çš„ä½ç½®å¢åŠ ä¸€ä¸ªæœ¬åœ°ç«¯å£ç›‘å¬æ¥æä¾›ç½‘é¡µå±•ç¤ºã€‚æœ¬æ–‡ä»¥ "),e("code",[t._v("8080")]),t._v(" ç«¯å£åšæ¼”ç¤ºã€‚ï¼ˆå¯ä»¥æ˜¯ä»»æ„ç«¯å£ï¼‰")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('\nserver {\nlisten 127.0.0.1:8080;\nroot /home/vpsadmin/www/webpage;\nindex index.html;\nadd_header Strict-Transport-Security "max-age=63072000" always;\n}\n\n')])])]),e("ol",{attrs:{start:"5"}},[e("li",[t._v("é‡å¯ Nginx æœåŠ¡")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("\n\\$ sudo systemctl restart nginx\n\n")])])]),e("ol",{attrs:{start:"6"}},[e("li",[t._v("ä¿®æ”¹ Xray çš„å›è½è®¾ç½®ï¼Œå°†å›è½ä» "),e("code",[t._v("80")]),t._v(" ç«¯å£æ”¹ä¸º "),e("code",[t._v("8080")]),t._v(" ç«¯å£ã€‚ï¼ˆæ‰¾åˆ° "),e("code",[t._v('"dest": 80')]),t._v(", å¹¶æ”¹æˆ "),e("code",[t._v('"dest": 8080')]),t._v("ï¼‰")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("\n\\$ sudo nano /usr/local/etc/xray/config.json\n\n")])])]),e("ol",{attrs:{start:"7"}},[e("li",[t._v("é‡å¯ "),e("code",[t._v("Xray")]),t._v(" æœåŠ¡ï¼Œå³å®Œæˆäº†è®¾ç½®")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("\n\\$ sudo systemctl restart xray\n\n")])])]),e("ol",{attrs:{start:"8"}},[e("li",[t._v("å®Œæ•´æµç¨‹æ¼”ç¤ºå¦‚ä¸‹ï¼š")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(409),alt:"httpè‡ªåŠ¨è·³è½¬https"}})]),t._v(" "),e("ol",{attrs:{start:"9"}},[e("li",[t._v("å½“ä½ è¾“å…¥ "),e("code",[t._v("http://a-name.yourdomain.com")]),t._v("çš„æ—¶å€™ï¼Œå®ƒåº”è¯¥å·²ç»ä¼šè‡ªåŠ¨è·³è½¬ https äº†")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(410),alt:"httpè‡ªåŠ¨è·³è½¬httpsç”Ÿæ•ˆ"}})]),t._v(" "),e("h2",{attrs:{id:"_7-9-æœåŠ¡å™¨ä¼˜åŒ–ä¹‹ä¸‰-æ›´ä¸°å¯Œçš„å›è½"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-9-æœåŠ¡å™¨ä¼˜åŒ–ä¹‹ä¸‰-æ›´ä¸°å¯Œçš„å›è½"}},[t._v("#")]),t._v(" 7.9 æœåŠ¡å™¨ä¼˜åŒ–ä¹‹ä¸‰ï¼šæ›´ä¸°å¯Œçš„å›è½")]),t._v(" "),e("p",[t._v("å¦‚æœä½ éœ€è¦æ›´ä¸°å¯Œçš„å›è½åŠŸèƒ½ï¼Œå¯ä»¥å‚è€ƒ "),e("RouterLink",{attrs:{to:"/level-1/fallbacks-lv1/"}},[t._v("ã€Šå›è½ (fallbacks) åŠŸèƒ½ç®€æã€‹")])],1),t._v(" "),e("h2",{attrs:{id:"_7-10-ä½ çš„è¿›åº¦"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-10-ä½ çš„è¿›åº¦"}},[t._v("#")]),t._v(" 7.10 ä½ çš„è¿›åº¦")]),t._v(" "),e("p",[t._v("æ­å–œï¼ï¼åˆ°è¿™ä¸€æ­¥ï¼Œä½ å·²ç»æ‹¥æœ‰äº†å¯ä»¥æ­£å¸¸ç§‘å­¦ä¸Šç½‘çš„æœåŠ¡å™¨ã€åŒæ—¶ä¹Ÿæœ‰äº†å¯ä»¥é˜²æ­¢ä¸»åŠ¨æ¢æµ‹æ”»å‡»çš„ä¼ªè£…ç½‘ç«™ã€‚æ¥ä¸‹æ¥ï¼Œåªè¦ç»™ä½ çš„å®¢æˆ·ç«¯è£…ä¸Šåˆé€‚çš„è½¯ä»¶ï¼Œå°±å¯ä»¥äº«å—é¡ºç•…çš„ç½‘ç»œäº†ï¼")]),t._v(" "),e("blockquote",[e("p",[t._v("â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬œ 87.5%")])]),t._v(" "),e("h2",{attrs:{id:"_7-11-é‡è¦å‹˜è¯¯"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-11-é‡è¦å‹˜è¯¯"}},[t._v("#")]),t._v(" 7.11 é‡è¦å‹˜è¯¯")]),t._v(" "),e("ol",[e("li",[t._v("åˆç‰ˆä¸­"),e("code",[t._v("Xray")]),t._v("é…ç½®æ–‡ä»¶"),e("code",[t._v("config.json")]),t._v("æ–‡ä»¶å¤¹ä½ç½®é”™è¯¯ã€‚è‹¥ä½ å·²ç»æ ¹æ®ä¹‹å‰çš„ä½ç½®è¿›è¡Œäº†æ“ä½œï¼Œ"),e("code",[t._v("Xray")]),t._v("ä¼šæ— æ³•æ­£ç¡®å¯åŠ¨ã€‚æ•…å‹˜è¯¯è¯´æ˜äºæ­¤ï¼Œè¯·è‡ªæŸ¥ï¼Œé€ æˆä¸ä¾¿ååˆ†æŠ±æ­‰ï¼")])]),t._v(" "),e("ul",[e("li",[t._v("æ­£ç¡®ä½ç½®ï¼š"),e("code",[t._v("/usr/local/etc/xray/config.json")])]),t._v(" "),e("li",[t._v("é”™è¯¯ä½ç½®ï¼š"),e("code",[t._v("/usr/local/etc/config.json")])])]),t._v(" "),e("p",[t._v("å—å½±å“ç« èŠ‚ï¼š")]),t._v(" "),e("ul",[e("li",[t._v("7.4 é…ç½®"),e("code",[t._v("Xray")]),t._v(" - 3. ä½¿ç”¨"),e("code",[t._v("nano")]),t._v("åˆ›å»º"),e("code",[t._v("Xray")]),t._v("çš„é…ç½®æ–‡ä»¶")]),t._v(" "),e("li",[t._v("7.8 æœåŠ¡å™¨ä¼˜åŒ–ä¹‹äºŒ - 6. ä¿®æ”¹"),e("code",[t._v("Xray")]),t._v("çš„å›è½è®¾ç½®")])]),t._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[t._v("åˆç‰ˆä¸­ä¿®æ”¹"),e("code",[t._v("Nginx")]),t._v("é…ç½®æ–‡ä»¶"),e("code",[t._v("nginx.conf")]),t._v("æ—¶å†…å®¹é”™è¯¯ï¼ˆç½‘é¡µæ–‡ä»¶å¤¹ä½ç½®é”™è¯¯ï¼‰ï¼Œè‹¥ä½ å·²ç»æ ¹æ®ä¹‹å‰çš„ä½ç½®è¿›è¡Œäº†æ“ä½œï¼Œ"),e("code",[t._v("Nginx")]),t._v("ä¼šæ— æ³•æ‰¾åˆ°æ­£ç¡®çš„ç½‘ç«™ã€‚è¯·è‡ªæŸ¥ï¼Œé€ æˆä¸ä¾¿ååˆ†æŠ±æ­‰ï¼")])]),t._v(" "),e("ul",[e("li",[t._v("æ­£ç¡®æ–‡ä»¶å¤¹ä½ç½®ï¼š"),e("code",[t._v("root /home/vpsadmin/www/webpage;")])]),t._v(" "),e("li",[t._v("é”™è¯¯æ–‡ä»¶å¤¹ä½ç½®ï¼š"),e("code",[t._v("root /var/www/website/html")])])]),t._v(" "),e("p",[t._v("å—å½±å“ç« èŠ‚ï¼š")]),t._v(" "),e("ul",[e("li",[t._v("7.8 æœåŠ¡å™¨ä¼˜åŒ–ä¹‹äºŒ - 4. åœ¨ä¸ "),e("code",[t._v("80")]),t._v(" ç«¯å£åŒçº§çš„ä½ç½®å¢åŠ ä¸€ä¸ªæœ¬åœ°ç«¯å£ç›‘å¬æ¥æä¾›ç½‘é¡µå±•ç¤º")])])])}),[],!1,null,null,null);s.default=r.exports}}]);